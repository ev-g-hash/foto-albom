version: null
meta:
  environment: python
  toolchain:
    name: pip
    version: "3.12"
build:
  requirementsPath: requirements.txt
  useCache: true
run:
  command: |
    echo "ğŸ” Cleaning static files..." &&
    rm -rf /app/staticfiles/* &&
    echo "ğŸ” Collecting static files..." &&
    python manage.py collectstatic --noinput --clear &&
    echo "âœ… Starting application..." &&
    gunicorn main.wsgi:application --bind 0.0.0.0:8000 --workers 2 --timeout 30
  persistenceMount: /data
  containerPort: "8000"
serviceType: compute
